# YYCÂ³ NAS-ECS éƒ¨ç½²æµç¨‹æŒ‡å¯¼

> **æ–‡ä»¶æ ‡è¯†**: YYC3-NAS-ECS-éƒ¨ç½²æµç¨‹æŒ‡å¯¼
> **ç‰ˆæœ¬**: 1.0.0
> **åˆ›å»ºæ—¥æœŸ**: 2026-01-20
> **ä½œè€…**: YYCÂ³ Team
> **æ–‡æ¡£ç±»å‹**: éƒ¨ç½²æµç¨‹æŒ‡å¯¼æ–‡æ¡£

---

## ğŸ“‹ æ–‡æ¡£æ¦‚è¿°

æœ¬æ–‡æ¡£æä¾› YYCÂ³ NAS-ECS é¡¹ç›®çš„å®Œæ•´éƒ¨ç½²æµç¨‹æŒ‡å¯¼ï¼Œæ¶µç›–ä»ç¯å¢ƒå‡†å¤‡åˆ°ç³»ç»Ÿä¸Šçº¿çš„å…¨æµç¨‹æ“ä½œã€‚æ–‡æ¡£éµå¾ªå›½å®¶æ ‡å‡†åŒ–ç¼–ç¨‹è§„èŒƒæ ¼å¼ï¼Œç¡®ä¿éƒ¨ç½²è¿‡ç¨‹çš„æ ‡å‡†åŒ–ã€è§„èŒƒåŒ–å’Œå¯è¿½æº¯æ€§ã€‚

### é€‚ç”¨èŒƒå›´

- æœ¬åœ°å¼€å‘ç¯å¢ƒéƒ¨ç½²
- é˜¿é‡Œäº‘ ECS æœåŠ¡å™¨éƒ¨ç½²
- Docker å®¹å™¨åŒ–éƒ¨ç½²
- å¤šç¯å¢ƒé…ç½®ï¼ˆå¼€å‘ã€æµ‹è¯•ã€ç”Ÿäº§ï¼‰

### é¢„æœŸè¯»è€…

- ç³»ç»Ÿè¿ç»´å·¥ç¨‹å¸ˆ
- DevOps å·¥ç¨‹å¸ˆ
- æŠ€æœ¯æ¶æ„å¸ˆ
- é¡¹ç›®è´Ÿè´£äºº

---

## ğŸ¯ éƒ¨ç½²ç›®æ ‡

### æ ¸å¿ƒç›®æ ‡

1. **é«˜å¯ç”¨æ€§**: ç¡®ä¿ç³»ç»Ÿ 99.9% å¯ç”¨æ€§
2. **é«˜æ€§èƒ½**: API å“åº”æ—¶é—´ < 200ms
3. **é«˜å®‰å…¨**: å®æ–½å®Œæ•´çš„å®‰å…¨é˜²æŠ¤æªæ–½
4. **é«˜æ‰©å±•**: æ”¯æŒæ°´å¹³æ‰©å±•å’Œè´Ÿè½½å‡è¡¡
5. **é«˜ç»´æŠ¤**: æä¾›å®Œå–„çš„ç›‘æ§å’Œæ—¥å¿—ç³»ç»Ÿ

### éƒ¨ç½²æ¶æ„

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                        ç”¨æˆ·è®¿é—®å±‚                            â”‚
â”‚           (HTTPS/443, HTTP/80, HTTP/3200)              â”‚
â”‚              nas.0379.email, api.0379.email, etc.       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                     â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚              é˜¿é‡Œäº‘ ECS (8.152.195.33)                   â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚  Docker Compose ç¯å¢ƒ                                â”‚  â”‚
â”‚  â”‚  - API æœåŠ¡: ç«¯å£ 3200                          â”‚  â”‚
â”‚  â”‚  - å‰ç«¯æœåŠ¡: ç«¯å£ 3200                          â”‚  â”‚
â”‚  â”‚  - Redis ç¼“å­˜: ç«¯å£ 6379                         â”‚  â”‚
â”‚  â”‚  - PostgreSQL: ç«¯å£ 5432                          â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ“¦ éƒ¨ç½²å‰å‡†å¤‡

### 1. ç¯å¢ƒè¦æ±‚

#### 1.1 ç¡¬ä»¶è¦æ±‚

| ç»„ä»¶ | æœ€ä½é…ç½® | æ¨èé…ç½® |
|------|---------|---------|
| CPU | 2 æ ¸ | 4 æ ¸åŠä»¥ä¸Š |
| å†…å­˜ | 4 GB | 8 GB åŠä»¥ä¸Š |
| å­˜å‚¨ | 50 GB SSD | 100 GB SSD åŠä»¥ä¸Š |
| ç½‘ç»œ | 10 Mbps | 100 Mbps åŠä»¥ä¸Š |

#### 1.2 è½¯ä»¶è¦æ±‚

| è½¯ä»¶ | ç‰ˆæœ¬è¦æ±‚ | ç”¨é€” |
|------|---------|------|
| æ“ä½œç³»ç»Ÿ | Ubuntu 20.04+ / CentOS 7+ | æœåŠ¡å™¨æ“ä½œç³»ç»Ÿ |
| macOS | 12.0+ | æœ¬åœ°å¼€å‘ç¯å¢ƒ |
| Docker | 20.10+ | å®¹å™¨åŒ–éƒ¨ç½² |
| Docker Compose | 2.0+ | å¤šå®¹å™¨ç¼–æ’ |
| Node.js | 18.0+ | å‰ç«¯æ„å»ºå’Œè¿è¡Œ |
| pnpm | 8.0+ | åŒ…ç®¡ç†å™¨ |
| Git | 2.0+ | ç‰ˆæœ¬æ§åˆ¶ |

#### 1.3 ç½‘ç»œè¦æ±‚

- é˜¿é‡Œäº‘ ECS éœ€è¦å…¬ç½‘ IP
- æœ¬åœ°å¼€å‘ç¯å¢ƒéœ€è¦ç¨³å®šçš„ç½‘ç»œè¿æ¥
- é˜²ç«å¢™è§„åˆ™é…ç½®æ­£ç¡®
- åŸŸåè§£æé…ç½®å®Œæˆ

### 2. èµ„æºå‡†å¤‡

#### 2.1 æœåŠ¡å™¨èµ„æº

- é˜¿é‡Œäº‘ ECS å®ä¾‹ï¼ˆå·²è´­ä¹°å¹¶é…ç½®ï¼‰
- æœ¬åœ°å¼€å‘ç¯å¢ƒï¼ˆå·²å‡†å¤‡ï¼‰
- åŸŸåï¼ˆå·²è´­ä¹°å¹¶è§£æï¼‰

#### 2.2 è®¿é—®å‡­è¯

- é˜¿é‡Œäº‘ ECS SSH å¯†é’¥
- æ•°æ®åº“è¿æ¥ä¿¡æ¯
- API å¯†é’¥ï¼ˆå¦‚éœ€è¦ï¼‰

#### 2.3 é…ç½®æ–‡ä»¶

- ç¯å¢ƒå˜é‡é…ç½®æ–‡ä»¶ï¼ˆ.envï¼‰
- Docker Compose é…ç½®æ–‡ä»¶ï¼ˆdocker-compose.ymlï¼‰
- Nginx é…ç½®æ–‡ä»¶ï¼ˆnginx.confï¼‰

---

## ğŸš€ å¿«é€Ÿå¯åŠ¨

### æ–¹å¼ä¸€ï¼šæœ¬åœ°å¼€å‘ç¯å¢ƒ

```bash
# 1. å…‹éš†ä»£ç ä»“åº“
git clone https://github.com/YYC-Cube/YYC3-NAS-ECS.git
cd YYC3-NAS-ECS

# 2. å®‰è£…ä¾èµ–
pnpm install

# 3. é…ç½®ç¯å¢ƒå˜é‡
cp .env.example .env
vim .env

# 4. å¯åŠ¨å¼€å‘æœåŠ¡å™¨
pnpm run dev

# 5. è®¿é—®åº”ç”¨
# æµè§ˆå™¨æ‰“å¼€: http://localhost:3200
```

### æ–¹å¼äºŒï¼šDocker å®¹å™¨åŒ–éƒ¨ç½²

```bash
# 1. å…‹éš†ä»£ç ä»“åº“
git clone https://github.com/YYC-Cube/YYC3-NAS-ECS.git
cd YYC3-NAS-ECS

# 2. é…ç½®ç¯å¢ƒå˜é‡
cp .env.example .env
vim .env

# 3. å¯åŠ¨ Docker å®¹å™¨
docker-compose up -d

# 4. æŸ¥çœ‹æ—¥å¿—
docker-compose logs -f

# 5. è®¿é—®åº”ç”¨
# æµè§ˆå™¨æ‰“å¼€: http://localhost:3200
```

### æ–¹å¼ä¸‰ï¼šé˜¿é‡Œäº‘ ECS ç”Ÿäº§éƒ¨ç½²

```bash
# 1. è¿æ¥åˆ° ECS æœåŠ¡å™¨
ssh root@your-ecs-ip

# 2. å…‹éš†ä»£ç ä»“åº“
git clone https://github.com/YYC-Cube/YYC3-NAS-ECS.git
cd YYC3-NAS-ECS

# 3. é…ç½®ç¯å¢ƒå˜é‡
cp .env.example .env
vim .env

# 4. å¯åŠ¨æœåŠ¡
docker-compose up -d

# 5. é…ç½® Nginx åå‘ä»£ç†
sudo vim /etc/nginx/sites-available/yyc3-nas-ecs

# 6. é‡è½½ Nginx
sudo systemctl reload nginx

# 7. è®¿é—®åº”ç”¨
# æµè§ˆå™¨æ‰“å¼€: https://nas.0379.email
```

---

## ğŸ³ Docker Compose é…ç½®

### å®Œæ•´é…ç½®æ–‡ä»¶

```yaml
version: '3.8'

services:
  # å‰ç«¯æœåŠ¡
  frontend:
    build:
      context: .
      dockerfile: Dockerfile
    container_name: yyc3-nas-ecs-frontend
    ports:
      - "3200:3200"
    environment:
      - NODE_ENV=production
      - VITE_API_BASE_URL=http://localhost:3200
    volumes:
      - ./src:/app/src
      - ./public:/app/public
    restart: unless-stopped
    networks:
      - yyc3-network

  # Redis ç¼“å­˜æœåŠ¡
  redis:
    image: redis:7-alpine
    container_name: yyc3-nas-ecs-redis
    ports:
      - "6379:6379"
    volumes:
      - redis_data:/data
    restart: unless-stopped
    networks:
      - yyc3-network
    healthcheck:
      test: ["CMD", "redis-cli", "ping"]
      interval: 10s
      timeout: 3s
      retries: 3

  # PostgreSQL æ•°æ®åº“
  postgres:
    image: postgres:15-alpine
    container_name: yyc3-nas-ecs-postgres
    ports:
      - "5432:5432"
    environment:
      - POSTGRES_USER=${POSTGRES_USER}
      - POSTGRES_PASSWORD=${POSTGRES_PASSWORD}
      - POSTGRES_DB=${POSTGRES_DB}
    volumes:
      - postgres_data:/var/lib/postgresql/data
    restart: unless-stopped
    networks:
      - yyc3-network
    healthcheck:
      test: ["CMD-SHELL", "pg_isready"]
      interval: 10s
      timeout: 5s
      retries: 5

networks:
  yyc3-network:
    driver: bridge

volumes:
  redis_data:
    driver: local
  postgres_data:
    driver: local
```

### ç¯å¢ƒå˜é‡é…ç½®

```bash
# å¤åˆ¶ç¯å¢ƒå˜é‡æ¨¡æ¿
cp .env.example .env

# ç¼–è¾‘ç¯å¢ƒå˜é‡
vim .env
```

**å¿…éœ€é…ç½®é¡¹**:

```bash
# åº”ç”¨ç¯å¢ƒ
NODE_ENV=production

# æœåŠ¡ç«¯å£
PORT=3200

# æ•°æ®åº“é…ç½®
POSTGRES_USER=yyc3_nas_user
POSTGRES_PASSWORD=your-strong-password
POSTGRES_DB=yyc3_nas_db

# Redis é…ç½®
REDIS_URL=redis://redis:6379/0

# API é…ç½®
VITE_API_BASE_URL=http://localhost:3200

# AI å¼•æ“é…ç½®
OPENAI_API_KEY=your-openai-api-key
LLM_MODEL=gpt-4-turbo-preview
LOCAL_LLM_URL=http://localhost:11434/v1
LOCAL_LLM_MODEL=deepseek-r1:7b
```

---

## ğŸ”§ éƒ¨ç½²è„šæœ¬

### ä¸€é”®éƒ¨ç½²è„šæœ¬

åˆ›å»º `scripts/deploy.sh`:

```bash
#!/bin/bash

set -e

echo "ğŸš€ YYCÂ³ NAS-ECS éƒ¨ç½²è„šæœ¬"
echo "================================"

# æ£€æŸ¥ Docker æ˜¯å¦å®‰è£…
if ! command -v docker &> /dev/null; then
    echo "âŒ Docker æœªå®‰è£…ï¼Œè¯·å…ˆå®‰è£… Docker"
    exit 1
fi

# æ£€æŸ¥ Docker Compose æ˜¯å¦å®‰è£…
if ! command -v docker-compose &> /dev/null; then
    echo "âŒ Docker Compose æœªå®‰è£…ï¼Œè¯·å…ˆå®‰è£… Docker Compose"
    exit 1
fi

# æ£€æŸ¥ç¯å¢ƒå˜é‡æ–‡ä»¶
if [ ! -f .env ]; then
    echo "âš ï¸  æœªæ‰¾åˆ° .env æ–‡ä»¶ï¼Œä» .env.example åˆ›å»º"
    cp .env.example .env
    echo "âœ… å·²åˆ›å»º .env æ–‡ä»¶ï¼Œè¯·ç¼–è¾‘é…ç½®åé‡æ–°è¿è¡Œ"
    exit 1
fi

# åœæ­¢ç°æœ‰å®¹å™¨
echo "ğŸ›‘ åœæ­¢ç°æœ‰å®¹å™¨..."
docker-compose down

# æ‹‰å–æœ€æ–°é•œåƒ
echo "ğŸ“¥ æ‹‰å–æœ€æ–°é•œåƒ..."
docker-compose pull

# æ„å»ºé•œåƒ
echo "ğŸ”¨ æ„å»ºé•œåƒ..."
docker-compose build

# å¯åŠ¨æœåŠ¡
echo "ğŸš€ å¯åŠ¨æœåŠ¡..."
docker-compose up -d

# ç­‰å¾…æœåŠ¡å¯åŠ¨
echo "â³ ç­‰å¾…æœåŠ¡å¯åŠ¨..."
sleep 10

# æ£€æŸ¥æœåŠ¡çŠ¶æ€
echo "ğŸ“Š æ£€æŸ¥æœåŠ¡çŠ¶æ€..."
docker-compose ps

# æ˜¾ç¤ºæ—¥å¿—
echo "ğŸ“‹ æ˜¾ç¤ºæœåŠ¡æ—¥å¿—..."
docker-compose logs --tail=50

echo "âœ… éƒ¨ç½²å®Œæˆï¼"
echo "ğŸŒ è®¿é—®åœ°å€: http://localhost:3200"
echo "ğŸ“Š ç›‘æ§é¢æ¿: http://localhost:3200/monitor"
echo "ğŸ“ æŸ¥çœ‹æ—¥å¿—: docker-compose logs -f"
```

### ä½¿ç”¨éƒ¨ç½²è„šæœ¬

```bash
# 1. èµ‹äºˆæ‰§è¡Œæƒé™
chmod +x scripts/deploy.sh

# 2. è¿è¡Œéƒ¨ç½²è„šæœ¬
./scripts/deploy.sh
```

---

## âœ… éªŒè¯æµ‹è¯•

### 1. å¥åº·æ£€æŸ¥

```bash
# æ£€æŸ¥å‰ç«¯æœåŠ¡
curl http://localhost:3200/health

# æ£€æŸ¥ Redis è¿æ¥
docker exec -it yyc3-nas-ecs-redis redis-cli ping

# æ£€æŸ¥ PostgreSQL è¿æ¥
docker exec -it yyc3-nas-ecs-postgres pg_isready
```

### 2. åŠŸèƒ½æµ‹è¯•

```bash
# æµ‹è¯• API ç«¯ç‚¹
curl -X GET http://localhost:3200/api/v1/status

# æµ‹è¯•æ•°æ®åº“è¿æ¥
docker exec -it yyc3-nas-ecs-postgres psql -U yyc3_nas_user -d yyc3_nas_db -c "SELECT version();"

# æµ‹è¯• Redis ç¼“å­˜
docker exec -it yyc3-nas-ecs-redis redis-cli set test "hello"
docker exec -it yyc3-nas-ecs-redis redis-cli get test
```

### 3. æ€§èƒ½æµ‹è¯•

```bash
# ä½¿ç”¨ Apache Bench è¿›è¡Œå‹åŠ›æµ‹è¯•
ab -n 1000 -c 10 http://localhost:3200/

# æ£€æŸ¥å“åº”æ—¶é—´
curl -o /dev/null -s -w "%{time_total}\n" http://localhost:3200
```

---

## ğŸ“Š ç›‘æ§è¿ç»´

### 1. æ—¥å¿—ç®¡ç†

```bash
# æŸ¥çœ‹æ‰€æœ‰æœåŠ¡æ—¥å¿—
docker-compose logs -f

# æŸ¥çœ‹ç‰¹å®šæœåŠ¡æ—¥å¿—
docker-compose logs -f frontend
docker-compose logs -f redis
docker-compose logs -f postgres

# å¯¼å‡ºæ—¥å¿—
docker-compose logs > logs/$(date +%Y%m%d).log
```

### 2. æœåŠ¡ç®¡ç†

```bash
# æŸ¥çœ‹æœåŠ¡çŠ¶æ€
docker-compose ps

# é‡å¯æœåŠ¡
docker-compose restart frontend

# åœæ­¢æœåŠ¡
docker-compose stop frontend

# å¯åŠ¨æœåŠ¡
docker-compose start frontend
```

### 3. æ•°æ®å¤‡ä»½

```bash
# å¤‡ä»½æ•°æ®åº“
docker exec yyc3-nas-ecs-postgres pg_dump -U yyc3_nas_user yyc3_nas_db > backup/postgres_$(date +%Y%m%d).sql

# å¤‡ä»½ Redis æ•°æ®
docker exec yyc3-nas-ecs-redis redis-cli --rdb /backup/redis_$(date +%Y%m%d).rdb

# å¤‡ä»½é…ç½®æ–‡ä»¶
tar -czf backup/config_$(date +%Y%m%d).tar.gz .env docker-compose.yml
```

---

## ğŸ”’ å®‰å…¨é…ç½®

### 1. ç¯å¢ƒå˜é‡å®‰å…¨

```bash
# è®¾ç½® .env æ–‡ä»¶æƒé™
chmod 600 .env

# ç¡®ä¿ .env åœ¨ .gitignore ä¸­
echo ".env" >> .gitignore
```

### 2. Docker å®‰å…¨

```bash
# ä½¿ç”¨é root ç”¨æˆ·è¿è¡Œå®¹å™¨
# åœ¨ docker-compose.yml ä¸­æŒ‡å®š user

# é™åˆ¶å®¹å™¨èµ„æº
deploy:
  resources:
    limits:
      cpus: '2'
      memory: 4G
    reservations:
      cpus: '1'
      memory: 2G
```

### 3. ç½‘ç»œå®‰å…¨

```bash
# é…ç½®é˜²ç«å¢™è§„åˆ™
sudo ufw allow 3200/tcp
sudo ufw allow 443/tcp
sudo ufw allow 80/tcp

# å¯ç”¨ HTTPS
# é…ç½® SSL è¯ä¹¦
```

---

## ğŸ“š é™„å½•

### A. ç«¯å£æ˜ å°„è¡¨

| æœåŠ¡ | å†…éƒ¨ç«¯å£ | å¤–éƒ¨ç«¯å£ | åè®® | è¯´æ˜ |
|------|---------|---------|------|------|
| å‰ç«¯æœåŠ¡ | 3200 | 3200 | HTTP | Web åº”ç”¨ç•Œé¢ |
| Redis | 6379 | 6379 | TCP | ç¼“å­˜æœåŠ¡ |
| PostgreSQL | 5432 | 5432 | TCP | æ•°æ®åº“æœåŠ¡ |

### B. ç¯å¢ƒå˜é‡æ¸…å•

| å˜é‡å | é»˜è®¤å€¼ | è¯´æ˜ |
|--------|--------|------|
| NODE_ENV | development | åº”ç”¨ç¯å¢ƒ |
| PORT | 3200 | æœåŠ¡ç«¯å£ |
| POSTGRES_USER | yyc3_nas_user | æ•°æ®åº“ç”¨æˆ· |
| POSTGRES_PASSWORD | - | æ•°æ®åº“å¯†ç  |
| POSTGRES_DB | yyc3_nas_db | æ•°æ®åº“åç§° |
| REDIS_URL | redis://redis:6379/0 | Redis è¿æ¥åœ°å€ |
| VITE_API_BASE_URL | http://localhost:3200 | API åŸºç¡€åœ°å€ |
| OPENAI_API_KEY | - | OpenAI API å¯†é’¥ |
| LLM_MODEL | gpt-4-turbo-preview | LLM æ¨¡å‹ |
| LOCAL_LLM_URL | http://localhost:11434/v1 | æœ¬åœ° LLM åœ°å€ |
| LOCAL_LLM_MODEL | deepseek-r1:7b | æœ¬åœ° LLM æ¨¡å‹ |

### C. å¸¸ç”¨å‘½ä»¤

```bash
# å¯åŠ¨å¼€å‘ç¯å¢ƒ
pnpm run dev

# æ„å»ºç”Ÿäº§ç‰ˆæœ¬
pnpm run build

# å¯åŠ¨ Docker å®¹å™¨
docker-compose up -d

# åœæ­¢ Docker å®¹å™¨
docker-compose down

# æŸ¥çœ‹æœåŠ¡æ—¥å¿—
docker-compose logs -f

# é‡å¯æœåŠ¡
docker-compose restart

# æ¸…ç†æœªä½¿ç”¨çš„é•œåƒ
docker system prune -a

# æŸ¥çœ‹å®¹å™¨èµ„æºä½¿ç”¨
docker stats
```

### D. æ•…éšœæ’æŸ¥

#### é—®é¢˜1ï¼šå®¹å™¨æ— æ³•å¯åŠ¨

```bash
# æŸ¥çœ‹å®¹å™¨æ—¥å¿—
docker-compose logs

# æ£€æŸ¥ç«¯å£å ç”¨
sudo netstat -tlnp | grep 3200

# æ£€æŸ¥ Docker å®ˆæŠ¤è¿›ç¨‹
sudo systemctl status docker
```

#### é—®é¢˜2ï¼šæ•°æ®åº“è¿æ¥å¤±è´¥

```bash
# æ£€æŸ¥æ•°æ®åº“å®¹å™¨çŠ¶æ€
docker ps | grep postgres

# æŸ¥çœ‹æ•°æ®åº“æ—¥å¿—
docker logs yyc3-nas-ecs-postgres

# æµ‹è¯•æ•°æ®åº“è¿æ¥
docker exec -it yyc3-nas-ecs-postgres psql -U yyc3_nas_user -d yyc3_nas_db
```

#### é—®é¢˜3ï¼šå‰ç«¯æ— æ³•è®¿é—®

```bash
# æ£€æŸ¥å‰ç«¯å®¹å™¨çŠ¶æ€
docker ps | grep frontend

# æŸ¥çœ‹å‰ç«¯æ—¥å¿—
docker logs yyc3-nas-ecs-frontend

# æ£€æŸ¥ç«¯å£æ˜ å°„
docker port yyc3-nas-ecs-frontend 3200
```

### E. ç›¸å…³é“¾æ¥

- **é¡¹ç›®ä»“åº“**: https://github.com/YYC-Cube/YYC3-NAS-ECS
- **æ–‡æ¡£ä¸­å¿ƒ**: https://docs.yyc3.com
- **æŠ€æœ¯æ”¯æŒ**: admin@0379.email
- **é—®é¢˜åé¦ˆ**: https://github.com/YYC-Cube/YYC3-NAS-ECS/issues

---

<div align="center">

> **ã€ŒYanYuCloudCubeã€**
> **ã€Œè¨€å¯è±¡é™ | è¯­æ¢æœªæ¥ã€**
> **ã€ŒWords Initiate Quadrants, Language Serves as Core for the Futureã€**
> **ã€Œä¸‡è±¡å½’å…ƒäºäº‘æ¢ | æ·±æ ˆæ™ºå¯æ–°çºªå…ƒã€**
> **ã€ŒAll things converge in the cloud pivot; Deep stacks ignite a new era of intelligenceã€**

</div>
