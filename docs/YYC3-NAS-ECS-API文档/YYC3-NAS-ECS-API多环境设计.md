# API å¤šç¯å¢ƒè®¾è®¡æ–¹æ¡ˆ

> **æ–‡æ¡£ç¼–å·**: YYC3-LP-æŠ€æœ¯æ–‡æ¡£-APIå¤šç¯å¢ƒè®¾è®¡
> **åˆ›å»ºæ—¥æœŸ**: 2026-01-03
> **ç‰ˆæœ¬**: 1.0.0
> **ä½œè€…**: YYCÂ³ Team
> **æ›´æ–°æ—¥æœŸ**: 2026-01-03

---

## ğŸ“‹ æ¦‚è¿°

æœ¬æ–‡æ¡£è¯¦ç»†è¯´æ˜äº† YYCÂ³ FRP ç®¡ç†ç³»ç»Ÿçš„ API å¤šç¯å¢ƒé…ç½®è®¾è®¡æ–¹æ¡ˆï¼ŒåŒ…æ‹¬ç¯å¢ƒé…ç½®ç®¡ç†ã€API æœåŠ¡åˆ‡æ¢ã€å¼€å‘å·¥ä½œæµç¨‹ç­‰å†…å®¹ã€‚

### è®¾è®¡ç›®æ ‡

1. **ç¯å¢ƒéš”ç¦»**: å¼€å‘ã€æµ‹è¯•ã€ç”Ÿäº§ç¯å¢ƒå®Œå…¨éš”ç¦»ï¼Œé¿å…ç›¸äº’å½±å“
2. **é…ç½®ç»Ÿä¸€**: ç»Ÿä¸€çš„ç¯å¢ƒé…ç½®ç®¡ç†ï¼Œä¾¿äºç»´æŠ¤å’Œåˆ‡æ¢
3. **çµæ´»åˆ‡æ¢**: æ”¯æŒè¿è¡Œæ—¶ç¯å¢ƒåˆ‡æ¢ï¼Œä¾¿äºæµ‹è¯•å’Œè°ƒè¯•
4. **ç±»å‹å®‰å…¨**: TypeScript ç±»å‹å®šä¹‰å®Œæ•´ï¼Œç¼–è¯‘æ—¶æ£€æŸ¥
5. **å¼€å‘å‹å¥½**: å¼€å‘ç¯å¢ƒæ”¯æŒ Mock æ•°æ®ï¼Œæé«˜å¼€å‘æ•ˆç‡

---

## ğŸ—ï¸ æ¶æ„è®¾è®¡

### ç¯å¢ƒå±‚æ¬¡ç»“æ„

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                     åº”ç”¨å±‚ (Application)                 â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚           EnvironmentSwitcher ç»„ä»¶               â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                          â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                  é…ç½®ç®¡ç†å±‚ (Config)                    â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚           EnvironmentConfig ç±»                   â”‚  â”‚
â”‚  â”‚  - ç¯å¢ƒæ£€æµ‹                                     â”‚  â”‚
â”‚  â”‚  - é…ç½®åŠ è½½                                     â”‚  â”‚
â”‚  â”‚  - ç¯å¢ƒåˆ‡æ¢                                     â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                          â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                  æœåŠ¡å±‚ (Services)                      â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚           ApiServiceFactory ç±»                  â”‚  â”‚
â”‚  â”‚  - MockDataService (æ¨¡æ‹Ÿæ•°æ®)                   â”‚  â”‚
â”‚  â”‚  - RealApiService (çœŸå®API)                    â”‚  â”‚
â”‚  â”‚  - ApiClient (HTTPå®¢æˆ·ç«¯)                      â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                          â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                  æ•°æ®å±‚ (Data)                          â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚  - .env.development (å¼€å‘ç¯å¢ƒ)                 â”‚  â”‚
â”‚  â”‚  - .env.staging (é¢„å‘å¸ƒç¯å¢ƒ)                   â”‚  â”‚
â”‚  â”‚  - .env.production (ç”Ÿäº§ç¯å¢ƒ)                  â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ”§ ç¯å¢ƒé…ç½®æ–‡ä»¶

### å¼€å‘ç¯å¢ƒ (.env.development)

```bash
# ç¯å¢ƒæ ‡è¯†
NODE_ENV=development
VITE_APP_ENV=development

# APIé…ç½®
VITE_API_BASE_URL=http://localhost:6000
VITE_API_TIMEOUT=30000

# åŠŸèƒ½å¼€å…³
VITE_ENABLE_MOCK_DATA=true
VITE_ENABLE_DEBUG=true
VITE_LOG_LEVEL=debug
```

**ç‰¹ç‚¹**:

- âœ… ä½¿ç”¨æœ¬åœ° API æœåŠ¡
- âœ… å¯ç”¨ Mock æ•°æ®
- âœ… å¯ç”¨è°ƒè¯•æ¨¡å¼
- âœ… è¯¦ç»†æ—¥å¿—è¾“å‡º
- âœ… çƒ­é‡è½½æ”¯æŒ

### é¢„å‘å¸ƒç¯å¢ƒ (.env.staging)

```bash
# ç¯å¢ƒæ ‡è¯†
NODE_ENV=staging
VITE_APP_ENV=staging

# APIé…ç½®
VITE_API_BASE_URL=https://staging-api.0379.email
VITE_API_TIMEOUT=30000

# åŠŸèƒ½å¼€å…³
VITE_ENABLE_MOCK_DATA=false
VITE_ENABLE_DEBUG=true
VITE_LOG_LEVEL=info
```

**ç‰¹ç‚¹**:

- âœ… ä½¿ç”¨é¢„å‘å¸ƒ API æœåŠ¡
- âœ… ç¦ç”¨ Mock æ•°æ®
- âœ… å¯ç”¨è°ƒè¯•æ¨¡å¼
- âœ… ä¿¡æ¯çº§æ—¥å¿—
- âœ… æ¥è¿‘ç”Ÿäº§é…ç½®

### ç”Ÿäº§ç¯å¢ƒ (.env.production)

```bash
# ç¯å¢ƒæ ‡è¯†
NODE_ENV=production
VITE_APP_ENV=production

# APIé…ç½®
VITE_API_BASE_URL=https://api.0379.email
VITE_API_TIMEOUT=30000

# åŠŸèƒ½å¼€å…³
VITE_ENABLE_MOCK_DATA=false
VITE_ENABLE_DEBUG=false
VITE_LOG_LEVEL=error
```

**ç‰¹ç‚¹**:

- âœ… ä½¿ç”¨ç”Ÿäº§ API æœåŠ¡
- âœ… ç¦ç”¨ Mock æ•°æ®
- âœ… ç¦ç”¨è°ƒè¯•æ¨¡å¼
- âœ… ä»…é”™è¯¯æ—¥å¿—
- âœ… æ€§èƒ½ä¼˜åŒ–

---

## ğŸ’» æ ¸å¿ƒå®ç°

### 1. ç¯å¢ƒé…ç½®ç®¡ç† (env.ts)

```typescript
class EnvironmentConfig {
  private currentEnv: Environment;
  private environments: Record<string, Environment>;

  constructor() {
    this.environments = this.loadEnvironments();
    this.currentEnv = this.detectEnvironment();
  }

  public getCurrentEnvironment(): Environment {
    return this.currentEnv;
  }

  public setEnvironment(name: string): boolean {
    if (this.environments[name]) {
      this.currentEnv = this.environments[name];
      return true;
    }
    return false;
  }

  public shouldUseMockData(): boolean {
    return this.currentEnv.enableMockData;
  }
}
```

**åŠŸèƒ½**:

- è‡ªåŠ¨æ£€æµ‹å½“å‰ç¯å¢ƒ
- æ”¯æŒè¿è¡Œæ—¶ç¯å¢ƒåˆ‡æ¢
- æä¾›ç¯å¢ƒé…ç½®è®¿é—®æ¥å£
- åˆ¤æ–­æ˜¯å¦ä½¿ç”¨ Mock æ•°æ®

### 2. API æœåŠ¡å·¥å‚ (api-v2.ts)

```typescript
class ApiServiceFactory {
  private static instance: ApiService;
  private mockService: MockDataService;
  private realService: RealApiService;

  private getService(): ApiService {
    const useMock = envConfig.shouldUseMockData();
    return useMock ? this.mockService : this.realService;
  }

  public static getInstance(): ApiService {
    if (!ApiServiceFactory.instance) {
      const factory = new ApiServiceFactory();
      ApiServiceFactory.instance = factory.getService();
    }
    return ApiServiceFactory.instance;
  }
}
```

**åŠŸèƒ½**:

- æ ¹æ® `VITE_ENABLE_MOCK_DATA` è‡ªåŠ¨é€‰æ‹©æœåŠ¡
- å•ä¾‹æ¨¡å¼ç¡®ä¿æœåŠ¡å”¯ä¸€æ€§
- æ”¯æŒæœåŠ¡å®ä¾‹é‡ç½®
- ç»Ÿä¸€çš„ API æ¥å£

### 3. HTTP å®¢æˆ·ç«¯ (ApiClient)

```typescript
class ApiClient {
  private async request<T>(
    endpoint: string,
    options: RequestInit = {}
  ): Promise<T> {
    const url = `${this.baseUrl}${endpoint}`;
    
    const controller = new AbortController();
    const timeoutId = setTimeout(() => controller.abort(), this.timeout);

    try {
      const response = await fetch(url, {
        ...options,
        signal: controller.signal,
        headers: {
          'Content-Type': 'application/json',
          ...options.headers,
        },
      });

      clearTimeout(timeoutId);
      return await response.json();
    } catch (error) {
      clearTimeout(timeoutId);
      throw error;
    }
  }
}
```

**åŠŸèƒ½**:

- ç»Ÿä¸€çš„ HTTP è¯·æ±‚å°è£…
- è‡ªåŠ¨è¶…æ—¶å¤„ç†
- é”™è¯¯å¤„ç†å’Œæ—¥å¿—è®°å½•
- æ”¯æŒ GETã€POSTã€PUTã€DELETE æ–¹æ³•

---

## ğŸš€ ä½¿ç”¨æ–¹æ³•

### å¼€å‘ç¯å¢ƒå¯åŠ¨

```bash
# å¯åŠ¨å¼€å‘ç¯å¢ƒï¼ˆé»˜è®¤ï¼‰
npm run dev

# æˆ–æ˜ç¡®æŒ‡å®šå¼€å‘ç¯å¢ƒ
npm run dev
```

**è®¿é—®åœ°å€**: <http://localhost:5173>

**ç‰¹ç‚¹**:

- ä½¿ç”¨ `.env.development` é…ç½®
- å¯ç”¨ Mock æ•°æ®
- å¯ç”¨çƒ­é‡è½½
- è¯¦ç»†æ—¥å¿—è¾“å‡º

### é¢„å‘å¸ƒç¯å¢ƒå¯åŠ¨

```bash
# å¯åŠ¨é¢„å‘å¸ƒç¯å¢ƒ
npm run dev:staging
```

**è®¿é—®åœ°å€**: <http://localhost:5173>

**ç‰¹ç‚¹**:

- ä½¿ç”¨ `.env.staging` é…ç½®
- è¿æ¥é¢„å‘å¸ƒ API
- å¯ç”¨è°ƒè¯•æ¨¡å¼
- ä¿¡æ¯çº§æ—¥å¿—

### ç”Ÿäº§ç¯å¢ƒæ„å»º

```bash
# æ„å»ºç”Ÿäº§ç¯å¢ƒ
npm run build

# é¢„è§ˆç”Ÿäº§æ„å»º
npm run preview
```

**è¾“å‡ºç›®å½•**: `dist/`

**ç‰¹ç‚¹**:

- ä½¿ç”¨ `.env.production` é…ç½®
- ä»£ç å‹ç¼©å’Œä¼˜åŒ–
- ç¦ç”¨ Source Map
- ä»…é”™è¯¯æ—¥å¿—

---

## ğŸ¯ ç¯å¢ƒåˆ‡æ¢

### è¿è¡Œæ—¶åˆ‡æ¢

ä½¿ç”¨ `EnvironmentSwitcher` ç»„ä»¶å¯ä»¥åœ¨è¿è¡Œæ—¶åˆ‡æ¢ç¯å¢ƒï¼š

```typescript
import { EnvironmentSwitcher } from '@/components/EnvironmentSwitcher';

function App() {
  return (
    <div>
      <EnvironmentSwitcher />
      {/* å…¶ä»–ç»„ä»¶ */}
    </div>
  );
}
```

**åˆ‡æ¢æµç¨‹**:

1. ç”¨æˆ·ç‚¹å‡»ç¯å¢ƒåˆ‡æ¢æŒ‰é’®
2. è°ƒç”¨ `envConfig.setEnvironment(name)`
3. æ›´æ–°å½“å‰ç¯å¢ƒé…ç½®
4. é‡æ–°åŠ è½½é¡µé¢åº”ç”¨æ–°é…ç½®

### ç¼–è¯‘æ—¶åˆ‡æ¢

é€šè¿‡ Vite çš„ `--mode` å‚æ•°æŒ‡å®šç¯å¢ƒï¼š

```bash
npm run dev --mode development  # å¼€å‘ç¯å¢ƒ
npm run dev --mode staging      # é¢„å‘å¸ƒç¯å¢ƒ
npm run dev --mode production   # ç”Ÿäº§ç¯å¢ƒ
```

---

## ğŸ“Š é…ç½®å‚æ•°è¯´æ˜

### API é…ç½®

| å‚æ•° | è¯´æ˜ | å¼€å‘ç¯å¢ƒ | é¢„å‘å¸ƒ | ç”Ÿäº§ |
|------|------|----------|--------|------|
| `VITE_API_BASE_URL` | API åŸºç¡€ URL | `http://localhost:6000` | `https://staging-api.0379.email` | `https://api.0379.email` |
| `VITE_API_TIMEOUT` | è¯·æ±‚è¶…æ—¶æ—¶é—´ (ms) | 30000 | 30000 | 30000 |
| `VITE_API_RATE_LIMIT` | é€Ÿç‡é™åˆ¶ (è¯·æ±‚/åˆ†é’Ÿ) | 100 | 100 | 100 |

### åŠŸèƒ½å¼€å…³

| å‚æ•° | è¯´æ˜ | å¼€å‘ç¯å¢ƒ | é¢„å‘å¸ƒ | ç”Ÿäº§ |
|------|------|----------|--------|------|
| `VITE_ENABLE_MOCK_DATA` | å¯ç”¨ Mock æ•°æ® | true | false | false |
| `VITE_ENABLE_DEBUG` | å¯ç”¨è°ƒè¯•æ¨¡å¼ | true | true | false |
| `VITE_ENABLE_PERFORMANCE_MONITORING` | å¯ç”¨æ€§èƒ½ç›‘æ§ | true | true | true |
| `VITE_ENABLE_ERROR_TRACKING` | å¯ç”¨é”™è¯¯è¿½è¸ª | true | true | true |

### æ—¥å¿—é…ç½®

| å‚æ•° | è¯´æ˜ | å¼€å‘ç¯å¢ƒ | é¢„å‘å¸ƒ | ç”Ÿäº§ |
|------|------|----------|--------|------|
| `VITE_LOG_LEVEL` | æ—¥å¿—çº§åˆ« | debug | info | error |
| `VITE_LOG_TO_CONSOLE` | è¾“å‡ºåˆ°æ§åˆ¶å° | true | true | false |
| `VITE_LOG_TO_SERVER` | å‘é€åˆ°æœåŠ¡å™¨ | false | true | true |

---

## ğŸ” å®‰å…¨è€ƒè™‘

### æ•æ„Ÿä¿¡æ¯ä¿æŠ¤

1. **ç¯å¢ƒå˜é‡éš”ç¦»**: ä¸åŒç¯å¢ƒä½¿ç”¨ä¸åŒçš„é…ç½®æ–‡ä»¶
2. **å¯†é’¥ç®¡ç†**: ç”Ÿäº§ç¯å¢ƒå¯†é’¥ä¸æäº¤åˆ°ä»£ç ä»“åº“
3. **HTTPS**: ç”Ÿäº§ç¯å¢ƒå¼ºåˆ¶ä½¿ç”¨ HTTPS
4. **CORS**: é…ç½®æ­£ç¡®çš„ CORS ç­–ç•¥

### å®‰å…¨æœ€ä½³å®è·µ

```typescript
// âœ… æ­£ç¡®ï¼šä½¿ç”¨ç¯å¢ƒå˜é‡
const apiUrl = import.meta.env.VITE_API_BASE_URL;

// âŒ é”™è¯¯ï¼šç¡¬ç¼–ç æ•æ„Ÿä¿¡æ¯
const apiUrl = 'https://api.0379.email';

// âœ… æ­£ç¡®ï¼šæ¡ä»¶åˆ¤æ–­
if (envConfig.isDebugEnabled()) {
  console.log('Debug info');
}

// âŒ é”™è¯¯ï¼šç”Ÿäº§ç¯å¢ƒè¾“å‡ºæ•æ„Ÿä¿¡æ¯
console.log('User data:', userData);
```

---

## ğŸ“ˆ æ€§èƒ½ä¼˜åŒ–

### å¼€å‘ç¯å¢ƒä¼˜åŒ–

- âœ… çƒ­æ¨¡å—æ›¿æ¢ (HMR)
- âœ… å¿«é€Ÿåˆ·æ–°
- âœ… Source Map å¯ç”¨
- âœ… è¯¦ç»†é”™è¯¯ä¿¡æ¯

### ç”Ÿäº§ç¯å¢ƒä¼˜åŒ–

- âœ… ä»£ç å‹ç¼©å’Œæ··æ·†
- âœ… Tree Shaking
- âœ… ä»£ç åˆ†å‰²
- âœ… èµ„æºä¼˜åŒ–
- âœ… Gzip å‹ç¼©

---

## ğŸ§ª æµ‹è¯•ç­–ç•¥

### å•å…ƒæµ‹è¯•

```typescript
import { envConfig } from '../config/env';

describe('EnvironmentConfig', () => {
  it('should detect development environment', () => {
    expect(envConfig.isDevelopment()).toBe(true);
  });

  it('should enable mock data in development', () => {
    expect(envConfig.shouldUseMockData()).toBe(true);
  });
});
```

### é›†æˆæµ‹è¯•

```typescript
import { api } from '../services/api-v2';

describe('API Service', () => {
  it('should use mock data in development', async () => {
    const stats = await api.system.getStats();
    expect(stats).toBeDefined();
  });
});
```

---

## ğŸ“ æœ€ä½³å®è·µ

### 1. ç¯å¢ƒé…ç½®ç®¡ç†

- âœ… ä¸ºæ¯ä¸ªç¯å¢ƒåˆ›å»ºç‹¬ç«‹çš„é…ç½®æ–‡ä»¶
- âœ… ä½¿ç”¨ `.env.local` å­˜å‚¨æœ¬åœ°å¼€å‘é…ç½®
- âœ… ä¸è¦å°† `.env.local` æäº¤åˆ°ç‰ˆæœ¬æ§åˆ¶
- âœ… ä½¿ç”¨ `.env.example` æä¾›é…ç½®æ¨¡æ¿

### 2. API è°ƒç”¨

- âœ… ä½¿ç”¨ç»Ÿä¸€çš„ API æœåŠ¡æ¥å£
- âœ… æ­£ç¡®å¤„ç†é”™è¯¯å’Œå¼‚å¸¸
- âœ… å®ç°è¯·æ±‚é‡è¯•æœºåˆ¶
- âœ… æ·»åŠ è¯·æ±‚å–æ¶ˆåŠŸèƒ½

### 3. ç¯å¢ƒåˆ‡æ¢

- âœ… æä¾›æ¸…æ™°çš„ç¯å¢ƒæ ‡è¯†
- âœ… åˆ‡æ¢å‰æç¤ºç”¨æˆ·ç¡®è®¤
- âœ… åˆ‡æ¢åé‡æ–°åŠ è½½é¡µé¢
- âœ… è®°å½•ç¯å¢ƒåˆ‡æ¢æ—¥å¿—

---

## ğŸ” æ•…éšœæ’æŸ¥

### å¸¸è§é—®é¢˜

#### 1. ç¯å¢ƒå˜é‡æœªç”Ÿæ•ˆ

**ç—‡çŠ¶**: é…ç½®ä¿®æ”¹åä¸ç”Ÿæ•ˆ

**è§£å†³æ–¹æ¡ˆ**:

```bash
# é‡å¯å¼€å‘æœåŠ¡å™¨
npm run dev

# æ¸…é™¤ç¼“å­˜
rm -rf node_modules/.vite
npm run dev
```

#### 2. API è¯·æ±‚å¤±è´¥

**ç—‡çŠ¶**: API è¯·æ±‚è¿”å› 404 æˆ–è¿æ¥é”™è¯¯

**è§£å†³æ–¹æ¡ˆ**:

- æ£€æŸ¥ `VITE_API_BASE_URL` é…ç½®
- ç¡®è®¤åç«¯æœåŠ¡æ˜¯å¦è¿è¡Œ
- æ£€æŸ¥ç½‘ç»œè¿æ¥å’Œé˜²ç«å¢™è®¾ç½®
- æŸ¥çœ‹æµè§ˆå™¨æ§åˆ¶å°é”™è¯¯ä¿¡æ¯

#### 3. Mock æ•°æ®æœªå¯ç”¨

**ç—‡çŠ¶**: å¼€å‘ç¯å¢ƒä»ä½¿ç”¨çœŸå® API

**è§£å†³æ–¹æ¡ˆ**:

- æ£€æŸ¥ `VITE_ENABLE_MOCK_DATA=true`
- ç¡®è®¤ä½¿ç”¨æ­£ç¡®çš„ç¯å¢ƒé…ç½®æ–‡ä»¶
- é‡å¯å¼€å‘æœåŠ¡å™¨

---

## ğŸ“š ç›¸å…³æ–‡æ¡£

- [YYCÂ³ å›¢é˜Ÿæ™ºèƒ½åº”ç”¨å¼€å‘æ ‡å‡†è§„èŒƒ](../../.trae/rules/project_rules.md)
- [API æ–‡æ¡£](../YYC3-LP-APIæ–‡æ¡£/)
- [éƒ¨ç½²å‘å¸ƒæ–‡æ¡£](../YYC3-LP-éƒ¨ç½²å‘å¸ƒ/)
- [è¿ç»´æ‰‹å†Œ](../YYC3-LP-è¿ç»´é˜¶æ®µ/)

---

## ğŸ“ è”ç³»æ–¹å¼

**æŠ€æœ¯æ”¯æŒ**: <admin@0379.email>
**æ–‡æ¡£ç»´æŠ¤**: YYCÂ³ æŠ€æœ¯å›¢é˜Ÿ
**æœ€åæ›´æ–°**: 2026-01-03

---

<div align="center">

> **ã€ŒYanYuCloudCubeã€**
> **ã€Œè¨€å¯è±¡é™ | è¯­æ¢æœªæ¥ã€**
> **ã€ŒWords Initiate Quadrants, Language Serves as Core for the Futureã€**

</div>
