# YYCÂ³ NAS-ECS é‚®ä»¶æœåŠ¡ä½¿ç”¨ç¤ºä¾‹

**åˆ›å»ºæ—¥æœŸ**: 2026-01-25  
**ä½œè€…**: YYCÂ³ Team  
**ç‰ˆæœ¬**: 1.0.0

---

## ğŸ“‹ ç›®å½•

1. [å¿«é€Ÿå…¥é—¨](#å¿«é€Ÿå…¥é—¨)
2. [åŸºç¡€ä½¿ç”¨ç¤ºä¾‹](#åŸºç¡€ä½¿ç”¨ç¤ºä¾‹)
3. [é«˜çº§ä½¿ç”¨ç¤ºä¾‹](#é«˜çº§ä½¿ç”¨ç¤ºä¾‹)
4. [APIä½¿ç”¨ç¤ºä¾‹](#apiä½¿ç”¨ç¤ºä¾‹)
5. [AIé›†æˆç¤ºä¾‹](#aié›†æˆç¤ºä¾‹)
6. [æ‰¹é‡æ“ä½œç¤ºä¾‹](#æ‰¹é‡æ“ä½œç¤ºä¾‹)
7. [æ•…éšœæ’æŸ¥ç¤ºä¾‹](#æ•…éšœæ’æŸ¥ç¤ºä¾‹)
8. [æœ€ä½³å®è·µ](#æœ€ä½³å®è·µ)

---

## å¿«é€Ÿå…¥é—¨

### 1. è®¿é—®é‚®ä»¶æœåŠ¡

**æ­¥éª¤**:
1. ç™»å½•YYCÂ³ NAS-ECSç³»ç»Ÿ
2. ç‚¹å‡»å·¦ä¾§å¯¼èˆªæ çš„"é‚®ä»¶æœåŠ¡"
3. è¿›å…¥é‚®ä»¶ç®¡ç†ç•Œé¢

**ç•Œé¢è¯´æ˜**:
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  é‚®ä»¶æœåŠ¡              [å†™é‚®ä»¶] [åˆ·æ–°] [è®¾ç½®]  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  [æ”¶ä»¶ç®±(12)] [å·²å‘é€(5)] [è‰ç¨¿(2)] [åƒåœ¾ç®±(0)]  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚ ğŸ“§ ç³»ç»Ÿé€šçŸ¥                     â”‚   â”‚
â”‚  â”‚ å‘ä»¶äºº: admin@0379.email          â”‚   â”‚
â”‚  â”‚ ä¸»é¢˜: ç³»ç»Ÿç»´æŠ¤é€šçŸ¥               â”‚   â”‚
â”‚  â”‚ æ—¶é—´: 2026-01-25 10:30          â”‚   â”‚
â”‚  â”‚ é¢„è§ˆ: ç³»ç»Ÿå°†äºä»Šæ™šè¿›è¡Œç»´æŠ¤...     â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚ ğŸ“§ ç”¨æˆ·åé¦ˆ                     â”‚   â”‚
â”‚  â”‚ å‘ä»¶äºº: user@example.com           â”‚   â”‚
â”‚  â”‚ ä¸»é¢˜: åŠŸèƒ½å»ºè®®                   â”‚   â”‚
â”‚  â”‚ æ—¶é—´: 2026-01-25 09:15          â”‚   â”‚
â”‚  â”‚ é¢„è§ˆ: å»ºè®®æ·»åŠ æ‰¹é‡å¯¼å‡ºåŠŸèƒ½...     â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 2. é…ç½®é‚®ä»¶è´¦æˆ·

**æ­¥éª¤**:
1. ç‚¹å‡»"è®¾ç½®"æŒ‰é’®
2. è¿›å…¥é‚®ä»¶è´¦æˆ·é…ç½®é¡µé¢
3. é…ç½®IMAPï¼ˆæ¥æ”¶é‚®ä»¶ï¼‰:
   - IMAPæœåŠ¡å™¨: imap.gmail.com
   - IMAPç«¯å£: 993
   - ç”¨æˆ·å: your-email@gmail.com
   - å¯†ç : your-app-password
4. é…ç½®SMTPï¼ˆå‘é€é‚®ä»¶ï¼‰:
   - SMTPæœåŠ¡å™¨: smtp.gmail.com
   - SMTPç«¯å£: 587
   - ç”¨æˆ·å: your-email@gmail.com
   - å¯†ç : your-app-password
5. ç‚¹å‡»"æµ‹è¯•è¿æ¥"
6. ç‚¹å‡»"ä¿å­˜"

**é…ç½®ç¤ºä¾‹**:
```typescript
// é‚®ä»¶è´¦æˆ·é…ç½®
const emailAccount = {
  imap: {
    host: 'imap.gmail.com',
    port: 993,
    secure: true,
    user: 'admin@0379.email',
    password: 'your-app-specific-password',
  },
  smtp: {
    host: 'smtp.gmail.com',
    port: 587,
    secure: false,
    user: 'admin@0379.email',
    password: 'your-app-specific-password',
  },
};
```

### 3. å‘é€é‚®ä»¶

**æ­¥éª¤**:
1. ç‚¹å‡»"å†™é‚®ä»¶"æŒ‰é’®
2. å¡«å†™é‚®ä»¶ä¿¡æ¯:
   - æ”¶ä»¶äºº: recipient@example.com
   - ä¸»é¢˜: é‚®ä»¶ä¸»é¢˜
   - å†…å®¹: é‚®ä»¶å†…å®¹
3. æ·»åŠ é™„ä»¶ï¼ˆå¯é€‰ï¼‰
4. ç‚¹å‡»"å‘é€"

**ç•Œé¢ç¤ºä¾‹**:
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  å†™é‚®ä»¶                          [ä¿å­˜è‰ç¨¿] [å‘é€]  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  æ”¶ä»¶äºº: recipient@example.com             â”‚
â”‚  æŠ„é€:                                    â”‚
â”‚  å¯†é€:                                    â”‚
â”‚  ä¸»é¢˜: é¡¹ç›®è¿›åº¦æŠ¥å‘Š                        â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  [åŠ ç²—] [æ–œä½“] [ä¸‹åˆ’çº¿] [é“¾æ¥] [é™„ä»¶]    â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  å°Šæ•¬çš„é¢†å¯¼ï¼š                             â”‚
â”‚                                          â”‚
â”‚  æœ¬å‘¨é¡¹ç›®è¿›å±•å¦‚ä¸‹ï¼š                        â”‚
â”‚  1. å®Œæˆäº†ç›‘æ§é¢æ¿çš„å¼€å‘                  â”‚
â”‚  2. ä¼˜åŒ–äº†é‚®ä»¶æœåŠ¡åŠŸèƒ½                  â”‚
â”‚  3. ä¿®å¤äº†è‹¥å¹²bug                       â”‚
â”‚                                          â”‚
â”‚  é™„ä»¶: [è¿›åº¦æŠ¥å‘Š.pdf] [æˆªå›¾.png]          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 4. æŸ¥çœ‹é‚®ä»¶

**é‚®ä»¶åˆ—è¡¨æ˜¾ç¤º**:
- æœªè¯»é‚®ä»¶: åŠ ç²—æ˜¾ç¤ºï¼Œè“è‰²æ ‡è®°
- å·²è¯»é‚®ä»¶: æ­£å¸¸æ˜¾ç¤º
- å·²å‘é€: è“è‰²æ ‡è®°
- å·²åˆ é™¤: ç°è‰²æ ‡è®°

**é‚®ä»¶æ“ä½œ**:
- ç‚¹å‡»é‚®ä»¶: æŸ¥çœ‹è¯¦æƒ…
- å³é”®é‚®ä»¶: æ˜¾ç¤ºæ“ä½œèœå•
  - å›å¤
  - è½¬å‘
  - æ ‡è®°ä¸ºå·²è¯»/æœªè¯»
  - ç§»åŠ¨åˆ°æ–‡ä»¶å¤¹
  - åˆ é™¤
  - æ ‡è®°

---

## åŸºç¡€ä½¿ç”¨ç¤ºä¾‹

### ç¤ºä¾‹1: å‘é€ç®€å•é‚®ä»¶

```typescript
// å‘é€ç®€å•é‚®ä»¶
const sendSimpleEmail = async (email: Email) => {
  try {
    const response = await fetch('/api/v2/mail/send', {
      method: 'POST',
      headers: {
        'Content-Type': 'application/json',
        'Authorization': `Bearer ${token}`,
      },
      body: JSON.stringify(email),
    });

    const data = await response.json();

    if (data.success) {
      console.log('é‚®ä»¶å‘é€æˆåŠŸ:', data.data);
      return data.data;
    }
  } catch (error) {
    console.error('å‘é€é‚®ä»¶å¤±è´¥:', error);
  }
};

// ä½¿ç”¨ç¤ºä¾‹
const email = {
  to: 'recipient@example.com',
  subject: 'é¡¹ç›®è¿›åº¦æŠ¥å‘Š',
  content: 'æœ¬å‘¨é¡¹ç›®è¿›å±•å¦‚ä¸‹ï¼š\n1. å®Œæˆäº†ç›‘æ§é¢æ¿çš„å¼€å‘\n2. ä¼˜åŒ–äº†é‚®ä»¶æœåŠ¡åŠŸèƒ½',
  html: '<p>æœ¬å‘¨é¡¹ç›®è¿›å±•å¦‚ä¸‹ï¼š</p><ol><li>å®Œæˆäº†ç›‘æ§é¢æ¿çš„å¼€å‘</li><li>ä¼˜åŒ–äº†é‚®ä»¶æœåŠ¡åŠŸèƒ½</li></ol>',
};

sendSimpleEmail(email);
```

**è¯·æ±‚ç¤ºä¾‹**:
```json
{
  "to": "recipient@example.com",
  "cc": [],
  "bcc": [],
  "subject": "é¡¹ç›®è¿›åº¦æŠ¥å‘Š",
  "content": "æœ¬å‘¨é¡¹ç›®è¿›å±•å¦‚ä¸‹ï¼š\n1. å®Œæˆäº†ç›‘æ§é¢æ¿çš„å¼€å‘\n2. ä¼˜åŒ–äº†é‚®ä»¶æœåŠ¡åŠŸèƒ½",
  "html": "<p>æœ¬å‘¨é¡¹ç›®è¿›å±•å¦‚ä¸‹ï¼š</p><ol><li>å®Œæˆäº†ç›‘æ§é¢æ¿çš„å¼€å‘</li><li>ä¼˜åŒ–äº†é‚®ä»¶æœåŠ¡åŠŸèƒ½</li></ol>",
  "attachments": []
}
```

**å“åº”ç¤ºä¾‹**:
```json
{
  "success": true,
  "data": {
    "id": "email-123456",
    "to": "recipient@example.com",
    "subject": "é¡¹ç›®è¿›åº¦æŠ¥å‘Š",
    "status": "sent",
    "sentAt": "2026-01-25T10:30:00Z"
  }
}
```

### ç¤ºä¾‹2: å‘é€å¸¦é™„ä»¶çš„é‚®ä»¶

```typescript
// å‘é€å¸¦é™„ä»¶çš„é‚®ä»¶
const sendEmailWithAttachments = async (email: EmailWithAttachments) => {
  try {
    const formData = new FormData();
    
    // æ·»åŠ é‚®ä»¶åŸºæœ¬ä¿¡æ¯
    formData.append('to', email.to);
    formData.append('subject', email.subject);
    formData.append('content', email.content);
    formData.append('html', email.html);
    
    // æ·»åŠ é™„ä»¶
    email.attachments.forEach((attachment, index) => {
      formData.append(`attachment${index}`, attachment.file, attachment.filename);
    });

    const response = await fetch('/api/v2/mail/send', {
      method: 'POST',
      headers: {
        'Authorization': `Bearer ${token}`,
      },
      body: formData,
    });

    const data = await response.json();

    if (data.success) {
      console.log('é‚®ä»¶å‘é€æˆåŠŸ:', data.data);
      return data.data;
    }
  } catch (error) {
    console.error('å‘é€é‚®ä»¶å¤±è´¥:', error);
  }
};

// ä½¿ç”¨ç¤ºä¾‹
const emailWithAttachments = {
  to: 'recipient@example.com',
  subject: 'é¡¹ç›®è¿›åº¦æŠ¥å‘Š',
  content: 'è¯·æŸ¥çœ‹é™„ä»¶ä¸­çš„è¯¦ç»†æŠ¥å‘Š',
  html: '<p>è¯·æŸ¥çœ‹é™„ä»¶ä¸­çš„è¯¦ç»†æŠ¥å‘Š</p>',
  attachments: [
    {
      file: fileObject,  // Fileå¯¹è±¡
      filename: 'progress-report.pdf',
    },
    {
      file: fileObject,
      filename: 'screenshot.png',
    },
  ],
};

sendEmailWithAttachments(emailWithAttachments);
```

### ç¤ºä¾‹3: è·å–é‚®ä»¶åˆ—è¡¨

```typescript
// è·å–é‚®ä»¶åˆ—è¡¨
const getEmailList = async (params: EmailListParams) => {
  try {
    const queryParams = new URLSearchParams({
      folder: params.folder || 'inbox',
      page: params.page?.toString() || '1',
      limit: params.limit?.toString() || '20',
      unreadOnly: params.unreadOnly?.toString() || 'false',
    });

    const response = await fetch(`/api/v2/mail/list?${queryParams}`);
    const data = await response.json();

    if (data.success) {
      console.log('é‚®ä»¶åˆ—è¡¨:', data.data);
      return data.data;
    }
  } catch (error) {
    console.error('è·å–é‚®ä»¶åˆ—è¡¨å¤±è´¥:', error);
  }
};

// ä½¿ç”¨ç¤ºä¾‹ - è·å–æ”¶ä»¶ç®±çš„é‚®ä»¶
const emailList = await getEmailList({
  folder: 'inbox',
  page: 1,
  limit: 20,
  unreadOnly: false,
});

console.log('é‚®ä»¶åˆ—è¡¨:', emailList);
```

**å“åº”ç¤ºä¾‹**:
```json
{
  "success": true,
  "data": {
    "total": 12,
    "page": 1,
    "limit": 20,
    "emails": [
      {
        "id": "email-001",
        "from": "admin@0379.email",
        "to": "user@example.com",
        "subject": "ç³»ç»Ÿç»´æŠ¤é€šçŸ¥",
        "preview": "ç³»ç»Ÿå°†äºä»Šæ™šè¿›è¡Œç»´æŠ¤...",
        "timestamp": "2026-01-25T10:30:00Z",
        "read": false,
        "hasAttachment": false
      },
      {
        "id": "email-002",
        "from": "user@example.com",
        "to": "admin@0379.email",
        "subject": "åŠŸèƒ½å»ºè®®",
        "preview": "å»ºè®®æ·»åŠ æ‰¹é‡å¯¼å‡ºåŠŸèƒ½...",
        "timestamp": "2026-01-25T09:15:00Z",
        "read": true,
        "hasAttachment": true
      }
    ]
  }
}
```

### ç¤ºä¾‹4: è·å–é‚®ä»¶è¯¦æƒ…

```typescript
// è·å–é‚®ä»¶è¯¦æƒ…
const getEmailDetail = async (emailId: string) => {
  try {
    const response = await fetch(`/api/v2/mail/${emailId}`);
    const data = await response.json();

    if (data.success) {
      console.log('é‚®ä»¶è¯¦æƒ…:', data.data);
      return data.data;
    }
  } catch (error) {
    console.error('è·å–é‚®ä»¶è¯¦æƒ…å¤±è´¥:', error);
  }
};

// ä½¿ç”¨ç¤ºä¾‹
const emailDetail = await getEmailDetail('email-001');
console.log('é‚®ä»¶è¯¦æƒ…:', emailDetail);
```

**å“åº”ç¤ºä¾‹**:
```json
{
  "success": true,
  "data": {
    "id": "email-001",
    "from": {
      "name": "ç³»ç»Ÿç®¡ç†å‘˜",
      "email": "admin@0379.email"
    },
    "to": [
      {
        "name": "ç”¨æˆ·",
        "email": "user@example.com"
      }
    ],
    "cc": [],
    "bcc": [],
    "subject": "ç³»ç»Ÿç»´æŠ¤é€šçŸ¥",
    "content": "å°Šæ•¬çš„ç”¨æˆ·ï¼š\n\nç³»ç»Ÿå°†äºä»Šæ™š23:00-01:00è¿›è¡Œç»´æŠ¤ï¼Œå±Šæ—¶ç³»ç»Ÿå°†æ— æ³•è®¿é—®ã€‚è¯·æ‚¨æå‰ä¿å­˜å·¥ä½œï¼Œé¿å…æ•°æ®ä¸¢å¤±ã€‚\n\næ„Ÿè°¢æ‚¨çš„ç†è§£ä¸æ”¯æŒï¼",
    "html": "<p>å°Šæ•¬çš„ç”¨æˆ·ï¼š</p><p>ç³»ç»Ÿå°†äºä»Šæ™š23:00-01:00è¿›è¡Œç»´æŠ¤ï¼Œå±Šæ—¶ç³»ç»Ÿå°†æ— æ³•è®¿é—®ã€‚è¯·æ‚¨æå‰ä¿å­˜å·¥ä½œï¼Œé¿å…æ•°æ®ä¸¢å¤±ã€‚</p><p>æ„Ÿè°¢æ‚¨çš„ç†è§£ä¸æ”¯æŒï¼</p>",
    "attachments": [],
    "timestamp": "2026-01-25T10:30:00Z",
    "read": false,
    "labels": ["ç³»ç»Ÿé€šçŸ¥"],
    "folder": "inbox"
  }
}
```

---

## é«˜çº§ä½¿ç”¨ç¤ºä¾‹

### ç¤ºä¾‹1: å›å¤é‚®ä»¶

```typescript
// å›å¤é‚®ä»¶
const replyEmail = async (emailId: string, reply: ReplyEmail) => {
  try {
    const response = await fetch(`/api/v2/mail/${emailId}/reply`, {
      method: 'POST',
      headers: {
        'Content-Type': 'application/json',
        'Authorization': `Bearer ${token}`,
      },
      body: JSON.stringify(reply),
    });

    const data = await response.json();

    if (data.success) {
      console.log('å›å¤æˆåŠŸ:', data.data);
      return data.data;
    }
  } catch (error) {
    console.error('å›å¤é‚®ä»¶å¤±è´¥:', error);
  }
};

// ä½¿ç”¨ç¤ºä¾‹
const reply = {
  content: 'æ”¶åˆ°ï¼Œæ„Ÿè°¢é€šçŸ¥ï¼',
  html: '<p>æ”¶åˆ°ï¼Œæ„Ÿè°¢é€šçŸ¥ï¼</p>',
  attachments: [],
  includeOriginal: true,  // æ˜¯å¦åŒ…å«åŸé‚®ä»¶å†…å®¹
};

replyEmail('email-001', reply);
```

### ç¤ºä¾‹2: è½¬å‘é‚®ä»¶

```typescript
// è½¬å‘é‚®ä»¶
const forwardEmail = async (emailId: string, forward: ForwardEmail) => {
  try {
    const response = await fetch(`/api/v2/mail/${emailId}/forward`, {
      method: 'POST',
      headers: {
        'Content-Type': 'application/json',
        'Authorization': `Bearer ${token}`,
      },
      body: JSON.stringify(forward),
    });

    const data = await response.json();

    if (data.success) {
      console.log('è½¬å‘æˆåŠŸ:', data.data);
      return data.data;
    }
  } catch (error) {
    console.error('è½¬å‘é‚®ä»¶å¤±è´¥:', error);
  }
};

// ä½¿ç”¨ç¤ºä¾‹
const forward = {
  to: 'another@example.com',
  subject: 'Fwd: ç³»ç»Ÿç»´æŠ¤é€šçŸ¥',
  content: 'è¯·æŸ¥çœ‹ä»¥ä¸‹é‚®ä»¶',
  html: '<p>è¯·æŸ¥çœ‹ä»¥ä¸‹é‚®ä»¶</p>',
  attachments: [],
};

forwardEmail('email-001', forward);
```

### ç¤ºä¾‹3: æœç´¢é‚®ä»¶

```typescript
// æœç´¢é‚®ä»¶
const searchEmails = async (params: SearchParams) => {
  try {
    const queryParams = new URLSearchParams({
      query: params.query,
      folder: params.folder || 'all',
      dateFrom: params.dateFrom || '',
      dateTo: params.dateTo || '',
      hasAttachment: params.hasAttachment?.toString() || 'false',
      page: params.page?.toString() || '1',
      limit: params.limit?.toString() || '20',
    });

    const response = await fetch(`/api/v2/mail/search?${queryParams}`);
    const data = await response.json();

    if (data.success) {
      console.log('æœç´¢ç»“æœ:', data.data);
      return data.data;
    }
  } catch (error) {
    console.error('æœç´¢é‚®ä»¶å¤±è´¥:', error);
  }
};

// ä½¿ç”¨ç¤ºä¾‹ - æœç´¢åŒ…å«"é¡¹ç›®"çš„é‚®ä»¶
const searchResults = await searchEmails({
  query: 'é¡¹ç›®',
  folder: 'all',
  dateFrom: '2026-01-01',
  dateTo: '2026-01-31',
  hasAttachment: false,
  page: 1,
  limit: 20,
});

console.log('æœç´¢ç»“æœ:', searchResults);
```

### ç¤ºä¾‹4: æ ‡è®°é‚®ä»¶

```typescript
// æ ‡è®°é‚®ä»¶
const markEmail = async (emailId: string, mark: EmailMark) => {
  try {
    const response = await fetch(`/api/v2/mail/${emailId}/mark`, {
      method: 'POST',
      headers: {
        'Content-Type': 'application/json',
        'Authorization': `Bearer ${token}`,
      },
      body: JSON.stringify(mark),
    });

    const data = await response.json();

    if (data.success) {
      console.log('æ ‡è®°æˆåŠŸ:', data.data);
      return data.data;
    }
  } catch (error) {
    console.error('æ ‡è®°é‚®ä»¶å¤±è´¥:', error);
  }
};

// ä½¿ç”¨ç¤ºä¾‹ - æ ‡è®°ä¸ºå·²è¯»å¹¶æ·»åŠ æ ‡ç­¾
await markEmail('email-001', {
  read: true,
  labels: ['é‡è¦', 'å¾…å¤„ç†'],
  starred: true,
});
```

---

## APIä½¿ç”¨ç¤ºä¾‹

### ç¤ºä¾‹1: JavaScript/TypeScript

```typescript
// åˆ›å»ºé‚®ä»¶APIå®¢æˆ·ç«¯
class EmailAPI {
  private baseUrl: string;
  private token: string;

  constructor(baseUrl: string, token: string) {
    this.baseUrl = baseUrl;
    this.token = token;
  }

  private async request<T>(
    endpoint: string,
    options: RequestInit = {}
  ): Promise<T> {
    const url = `${this.baseUrl}${endpoint}`;
    const response = await fetch(url, {
      ...options,
      headers: {
        'Content-Type': 'application/json',
        'Authorization': `Bearer ${this.token}`,
        ...options.headers,
      },
    });

    const data = await response.json();
    
    if (!data.success) {
      throw new Error(data.error?.message || 'è¯·æ±‚å¤±è´¥');
    }

    return data.data;
  }

  // å‘é€é‚®ä»¶
  async sendEmail(email: Email): Promise<EmailResult> {
    return this.request<EmailResult>('/api/v2/mail/send', {
      method: 'POST',
      body: JSON.stringify(email),
    });
  }

  // è·å–é‚®ä»¶åˆ—è¡¨
  async getEmailList(params: EmailListParams): Promise<EmailList> {
    const queryParams = new URLSearchParams(params as any);
    return this.request<EmailList>(`/api/v2/mail/list?${queryParams}`);
  }

  // è·å–é‚®ä»¶è¯¦æƒ…
  async getEmailDetail(emailId: string): Promise<EmailDetail> {
    return this.request<EmailDetail>(`/api/v2/mail/${emailId}`);
  }

  // å›å¤é‚®ä»¶
  async replyEmail(emailId: string, reply: ReplyEmail): Promise<EmailResult> {
    return this.request<EmailResult>(`/api/v2/mail/${emailId}/reply`, {
      method: 'POST',
      body: JSON.stringify(reply),
    });
  }

  // è½¬å‘é‚®ä»¶
  async forwardEmail(emailId: string, forward: ForwardEmail): Promise<EmailResult> {
    return this.request<EmailResult>(`/api/v2/mail/${emailId}/forward`, {
      method: 'POST',
      body: JSON.stringify(forward),
    });
  }

  // æœç´¢é‚®ä»¶
  async searchEmails(params: SearchParams): Promise<EmailList> {
    const queryParams = new URLSearchParams(params as any);
    return this.request<EmailList>(`/api/v2/mail/search?${queryParams}`);
  }

  // æ ‡è®°é‚®ä»¶
  async markEmail(emailId: string, mark: EmailMark): Promise<void> {
    return this.request<void>(`/api/v2/mail/${emailId}/mark`, {
      method: 'POST',
      body: JSON.stringify(mark),
    });
  }

  // åˆ é™¤é‚®ä»¶
  async deleteEmail(emailId: string): Promise<void> {
    return this.request<void>(`/api/v2/mail/${emailId}`, {
      method: 'DELETE',
    });
  }
}

// ä½¿ç”¨ç¤ºä¾‹
const api = new EmailAPI('http://localhost:6000', 'your-token-here');

// å‘é€é‚®ä»¶
await api.sendEmail({
  to: 'recipient@example.com',
  subject: 'æµ‹è¯•é‚®ä»¶',
  content: 'è¿™æ˜¯ä¸€å°æµ‹è¯•é‚®ä»¶',
});

// è·å–é‚®ä»¶åˆ—è¡¨
const emailList = await api.getEmailList({
  folder: 'inbox',
  page: 1,
  limit: 20,
});

// è·å–é‚®ä»¶è¯¦æƒ…
const emailDetail = await api.getEmailDetail('email-001');

// å›å¤é‚®ä»¶
await api.replyEmail('email-001', {
  content: 'æ”¶åˆ°ï¼Œæ„Ÿè°¢ï¼',
});

// æœç´¢é‚®ä»¶
const searchResults = await api.searchEmails({
  query: 'é¡¹ç›®',
  folder: 'all',
});

// æ ‡è®°é‚®ä»¶
await api.markEmail('email-001', {
  read: true,
  starred: true,
});

// åˆ é™¤é‚®ä»¶
await api.deleteEmail('email-001');
```

### ç¤ºä¾‹2: Python

```python
import requests
from typing import Dict, Any, List, Optional

class EmailAPI:
    def __init__(self, base_url: str, token: str):
        self.base_url = base_url
        self.token = token
        self.headers = {
            'Content-Type': 'application/json',
            'Authorization': f'Bearer {token}'
        }

    def _request(self, endpoint: str, method: str = 'GET', data: Dict = None) -> Any:
        url = f'{self.base_url}{endpoint}'
        response = requests.request(
            method,
            url,
            headers=self.headers,
            json=data
        )
        
        result = response.json()
        
        if not result.get('success'):
            raise Exception(result.get('error', {}).get('message', 'è¯·æ±‚å¤±è´¥'))
        
        return result.get('data')

    def send_email(self, email: Dict) -> Dict:
        """å‘é€é‚®ä»¶"""
        return self._request(
            '/api/v2/mail/send',
            method='POST',
            data=email
        )

    def get_email_list(self, params: Dict) -> Dict:
        """è·å–é‚®ä»¶åˆ—è¡¨"""
        return self._request(f'/api/v2/mail/list?{params}')

    def get_email_detail(self, email_id: str) -> Dict:
        """è·å–é‚®ä»¶è¯¦æƒ…"""
        return self._request(f'/api/v2/mail/{email_id}')

    def reply_email(self, email_id: str, reply: Dict) -> Dict:
        """å›å¤é‚®ä»¶"""
        return self._request(
            f'/api/v2/mail/{email_id}/reply',
            method='POST',
            data=reply
        )

    def forward_email(self, email_id: str, forward: Dict) -> Dict:
        """è½¬å‘é‚®ä»¶"""
        return self._request(
            f'/api/v2/mail/{email_id}/forward',
            method='POST',
            data=forward
        )

    def search_emails(self, params: Dict) -> Dict:
        """æœç´¢é‚®ä»¶"""
        return self._request(f'/api/v2/mail/search?{params}')

    def mark_email(self, email_id: str, mark: Dict) -> None:
        """æ ‡è®°é‚®ä»¶"""
        self._request(
            f'/api/v2/mail/{email_id}/mark',
            method='POST',
            data=mark
        )

    def delete_email(self, email_id: str) -> None:
        """åˆ é™¤é‚®ä»¶"""
        self._request(
            f'/api/v2/mail/{email_id}',
            method='DELETE'
        )

# ä½¿ç”¨ç¤ºä¾‹
api = EmailAPI('http://localhost:6000', 'your-token-here')

# å‘é€é‚®ä»¶
api.send_email({
    'to': 'recipient@example.com',
    'subject': 'æµ‹è¯•é‚®ä»¶',
    'content': 'è¿™æ˜¯ä¸€å°æµ‹è¯•é‚®ä»¶'
})

# è·å–é‚®ä»¶åˆ—è¡¨
email_list = api.get_email_list({
    'folder': 'inbox',
    'page': '1',
    'limit': '20'
})

# è·å–é‚®ä»¶è¯¦æƒ…
email_detail = api.get_email_detail('email-001')

# å›å¤é‚®ä»¶
api.reply_email('email-001', {
    'content': 'æ”¶åˆ°ï¼Œæ„Ÿè°¢ï¼'
})

# æœç´¢é‚®ä»¶
search_results = api.search_emails({
    'query': 'é¡¹ç›®',
    'folder': 'all'
})

# æ ‡è®°é‚®ä»¶
api.mark_email('email-001', {
    'read': True,
    'starred': True
})

# åˆ é™¤é‚®ä»¶
api.delete_email('email-001')
```

### ç¤ºä¾‹3: cURL

```bash
# å‘é€é‚®ä»¶
curl -X POST \
  -H "Authorization: Bearer your-token-here" \
  -H "Content-Type: application/json" \
  -d '{
    "to": "recipient@example.com",
    "subject": "æµ‹è¯•é‚®ä»¶",
    "content": "è¿™æ˜¯ä¸€å°æµ‹è¯•é‚®ä»¶"
  }' \
  http://localhost:6000/api/v2/mail/send

# è·å–é‚®ä»¶åˆ—è¡¨
curl -X GET \
  -H "Authorization: Bearer your-token-here" \
  "http://localhost:6000/api/v2/mail/list?folder=inbox&page=1&limit=20"

# è·å–é‚®ä»¶è¯¦æƒ…
curl -X GET \
  -H "Authorization: Bearer your-token-here" \
  http://localhost:6000/api/v2/mail/email-001

# å›å¤é‚®ä»¶
curl -X POST \
  -H "Authorization: Bearer your-token-here" \
  -H "Content-Type: application/json" \
  -d '{
    "content": "æ”¶åˆ°ï¼Œæ„Ÿè°¢ï¼",
    "includeOriginal": true
  }' \
  http://localhost:6000/api/v2/mail/email-001/reply

# è½¬å‘é‚®ä»¶
curl -X POST \
  -H "Authorization: Bearer your-token-here" \
  -H "Content-Type: application/json" \
  -d '{
    "to": "another@example.com",
    "subject": "Fwd: æµ‹è¯•é‚®ä»¶",
    "content": "è¯·æŸ¥çœ‹ä»¥ä¸‹é‚®ä»¶"
  }' \
  http://localhost:6000/api/v2/mail/email-001/forward

# æœç´¢é‚®ä»¶
curl -X GET \
  -H "Authorization: Bearer your-token-here" \
  "http://localhost:6000/api/v2/mail/search?query=é¡¹ç›®&folder=all"

# æ ‡è®°é‚®ä»¶
curl -X POST \
  -H "Authorization: Bearer your-token-here" \
  -H "Content-Type: application/json" \
  -d '{
    "read": true,
    "starred": true,
    "labels": ["é‡è¦"]
  }' \
  http://localhost:6000/api/v2/mail/email-001/mark

# åˆ é™¤é‚®ä»¶
curl -X DELETE \
  -H "Authorization: Bearer your-token-here" \
  http://localhost:6000/api/v2/mail/email-001
```

---

## AIé›†æˆç¤ºä¾‹

### ç¤ºä¾‹1: AIè‡ªåŠ¨å›å¤

```typescript
// ä½¿ç”¨AIç”Ÿæˆè‡ªåŠ¨å›å¤
const generateAIReply = async (emailId: string) => {
  try {
    const response = await fetch(`/api/v2/mail/${emailId}/ai-reply`, {
      method: 'POST',
      headers: {
        'Content-Type': 'application/json',
        'Authorization': `Bearer ${token}`,
      },
    });

    const data = await response.json();

    if (data.success) {
      console.log('AIå›å¤ç”ŸæˆæˆåŠŸ:', data.data);
      return data.data;
    }
  } catch (error) {
    console.error('ç”ŸæˆAIå›å¤å¤±è´¥:', error);
  }
};

// ä½¿ç”¨ç¤ºä¾‹
const aiReply = await generateAIReply('email-001');
console.log('AIå›å¤:', aiReply.reply);
```

**å“åº”ç¤ºä¾‹**:
```json
{
  "success": true,
  "data": {
    "reply": "å°Šæ•¬çš„ç”¨æˆ·ï¼š\n\næ„Ÿè°¢æ‚¨çš„åé¦ˆã€‚æˆ‘ä»¬å·²æ”¶åˆ°æ‚¨çš„å»ºè®®ï¼Œå¹¶å°†å…¶çº³å…¥æˆ‘ä»¬çš„æ”¹è¿›è®¡åˆ’ä¸­ã€‚å¦‚æœ‰å…¶ä»–é—®é¢˜ï¼Œè¯·éšæ—¶è”ç³»æˆ‘ä»¬ã€‚\n\nç¥å¥½ï¼",
    "confidence": 0.92,
    "suggestions": [
      "æ„Ÿè°¢æ‚¨çš„åé¦ˆ",
      "æˆ‘ä»¬å·²æ”¶åˆ°æ‚¨çš„å»ºè®®",
      "å¦‚æœ‰å…¶ä»–é—®é¢˜ï¼Œè¯·éšæ—¶è”ç³»æˆ‘ä»¬"
    ]
  }
}
```

### ç¤ºä¾‹2: AIæ™ºèƒ½åˆ†ç±»

```typescript
// ä½¿ç”¨AIå¯¹é‚®ä»¶è¿›è¡Œæ™ºèƒ½åˆ†ç±»
const classifyEmail = async (emailId: string) => {
  try {
    const response = await fetch(`/api/v2/mail/${emailId}/classify`, {
      method: 'POST',
      headers: {
        'Content-Type': 'application/json',
        'Authorization': `Bearer ${token}`,
      },
    });

    const data = await response.json();

    if (data.success) {
      console.log('é‚®ä»¶åˆ†ç±»æˆåŠŸ:', data.data);
      return data.data;
    }
  } catch (error) {
    console.error('é‚®ä»¶åˆ†ç±»å¤±è´¥:', error);
  }
};

// ä½¿ç”¨ç¤ºä¾‹
const classification = await classifyEmail('email-001');
console.log('åˆ†ç±»ç»“æœ:', classification);
```

**å“åº”ç¤ºä¾‹**:
```json
{
  "success": true,
  "data": {
    "category": "å·¥ä½œ",
    "subCategory": "é¡¹ç›®",
    "priority": "é«˜",
    "confidence": 0.88,
    "suggestedLabels": ["é‡è¦", "å¾…å¤„ç†", "é¡¹ç›®"]
  }
}
```

### ç¤ºä¾‹3: AIæ‘˜è¦ç”Ÿæˆ

```typescript
// ä½¿ç”¨AIç”Ÿæˆé‚®ä»¶æ‘˜è¦
const generateSummary = async (emailId: string) => {
  try {
    const response = await fetch(`/api/v2/mail/${emailId}/summary`, {
      method: 'POST',
      headers: {
        'Content-Type': 'application/json',
        'Authorization': `Bearer ${token}`,
      },
    });

    const data = await response.json();

    if (data.success) {
      console.log('æ‘˜è¦ç”ŸæˆæˆåŠŸ:', data.data);
      return data.data;
    }
  } catch (error) {
    console.error('ç”Ÿæˆæ‘˜è¦å¤±è´¥:', error);
  }
};

// ä½¿ç”¨ç¤ºä¾‹
const summary = await generateSummary('email-001');
console.log('é‚®ä»¶æ‘˜è¦:', summary.summary);
```

**å“åº”ç¤ºä¾‹**:
```json
{
  "success": true,
  "data": {
    "summary": "ç³»ç»Ÿå°†äºä»Šæ™š23:00-01:00è¿›è¡Œç»´æŠ¤ï¼Œå±Šæ—¶ç³»ç»Ÿå°†æ— æ³•è®¿é—®ã€‚ç”¨æˆ·éœ€æå‰ä¿å­˜å·¥ä½œã€‚",
    "keyPoints": [
      "ç»´æŠ¤æ—¶é—´ï¼šä»Šæ™š23:00-01:00",
      "å½±å“ï¼šç³»ç»Ÿæ— æ³•è®¿é—®",
      "å»ºè®®ï¼šæå‰ä¿å­˜å·¥ä½œ"
    ],
    "actionItems": [
      "ä¿å­˜å½“å‰å·¥ä½œ",
      "é¿å…åœ¨ç»´æŠ¤æœŸé—´è¿›è¡Œé‡è¦æ“ä½œ"
    ]
  }
}
```

---

## æ‰¹é‡æ“ä½œç¤ºä¾‹

### ç¤ºä¾‹1: æ‰¹é‡å‘é€é‚®ä»¶

```typescript
// æ‰¹é‡å‘é€é‚®ä»¶
const sendBatchEmails = async (emails: Email[]) => {
  try {
    const response = await fetch('/api/v2/mail/batch', {
      method: 'POST',
      headers: {
        'Content-Type': 'application/json',
        'Authorization': `Bearer ${token}`,
      },
      body: JSON.stringify({ emails }),
    });

    const data = await response.json();

    if (data.success) {
      console.log('æ‰¹é‡å‘é€æˆåŠŸ:', data.data);
      return data.data;
    }
  } catch (error) {
    console.error('æ‰¹é‡å‘é€å¤±è´¥:', error);
  }
};

// ä½¿ç”¨ç¤ºä¾‹
const emails = [
  {
    to: 'user1@example.com',
    subject: 'ç³»ç»Ÿç»´æŠ¤é€šçŸ¥',
    content: 'ç³»ç»Ÿå°†äºä»Šæ™šè¿›è¡Œç»´æŠ¤...',
  },
  {
    to: 'user2@example.com',
    subject: 'ç³»ç»Ÿç»´æŠ¤é€šçŸ¥',
    content: 'ç³»ç»Ÿå°†äºä»Šæ™šè¿›è¡Œç»´æŠ¤...',
  },
  {
    to: 'user3@example.com',
    subject: 'ç³»ç»Ÿç»´æŠ¤é€šçŸ¥',
    content: 'ç³»ç»Ÿå°†äºä»Šæ™šè¿›è¡Œç»´æŠ¤...',
  },
];

sendBatchEmails(emails);
```

### ç¤ºä¾‹2: æ‰¹é‡åˆ é™¤é‚®ä»¶

```typescript
// æ‰¹é‡åˆ é™¤é‚®ä»¶
const deleteBatchEmails = async (emailIds: string[]) => {
  try {
    const response = await fetch('/api/v2/mail/batch-delete', {
      method: 'POST',
      headers: {
        'Content-Type': 'application/json',
        'Authorization': `Bearer ${token}`,
      },
      body: JSON.stringify({ emailIds }),
    });

    const data = await response.json();

    if (data.success) {
      console.log('æ‰¹é‡åˆ é™¤æˆåŠŸ:', data.data);
      return data.data;
    }
  } catch (error) {
    console.error('æ‰¹é‡åˆ é™¤å¤±è´¥:', error);
  }
};

// ä½¿ç”¨ç¤ºä¾‹
const emailIds = ['email-001', 'email-002', 'email-003'];
deleteBatchEmails(emailIds);
```

### ç¤ºä¾‹3: æ‰¹é‡æ ‡è®°é‚®ä»¶

```typescript
// æ‰¹é‡æ ‡è®°é‚®ä»¶
const markBatchEmails = async (emailIds: string[], mark: EmailMark) => {
  try {
    const response = await fetch('/api/v2/mail/batch-mark', {
      method: 'POST',
      headers: {
        'Content-Type': 'application/json',
        'Authorization': `Bearer ${token}`,
      },
      body: JSON.stringify({ emailIds, mark }),
    });

    const data = await response.json();

    if (data.success) {
      console.log('æ‰¹é‡æ ‡è®°æˆåŠŸ:', data.data);
      return data.data;
    }
  } catch (error) {
    console.error('æ‰¹é‡æ ‡è®°å¤±è´¥:', error);
  }
};

// ä½¿ç”¨ç¤ºä¾‹ - æ‰¹é‡æ ‡è®°ä¸ºå·²è¯»
const emailIds = ['email-001', 'email-002', 'email-003'];
markBatchEmails(emailIds, {
  read: true,
});
```

---

## æ•…éšœæ’æŸ¥ç¤ºä¾‹

### ç¤ºä¾‹1: æ£€æŸ¥é‚®ä»¶æœåŠ¡çŠ¶æ€

```typescript
// æ£€æŸ¥é‚®ä»¶æœåŠ¡çŠ¶æ€
const checkEmailService = async () => {
  try {
    const response = await fetch('/api/v2/mail/health');
    const data = await response.json();

    if (data.success) {
      const health = data.data;
      console.log('é‚®ä»¶æœåŠ¡çŠ¶æ€:', health);
      
      // æ£€æŸ¥å„é¡¹æœåŠ¡çŠ¶æ€
      if (health.imap === 'healthy') {
        console.log('âœ… IMAPæœåŠ¡æ­£å¸¸');
      } else {
        console.log('âŒ IMAPæœåŠ¡å¼‚å¸¸');
      }
      
      if (health.smtp === 'healthy') {
        console.log('âœ… SMTPæœåŠ¡æ­£å¸¸');
      } else {
        console.log('âŒ SMTPæœåŠ¡å¼‚å¸¸');
      }
      
      if (health.database === 'healthy') {
        console.log('âœ… æ•°æ®åº“æœåŠ¡æ­£å¸¸');
      } else {
        console.log('âŒ æ•°æ®åº“æœåŠ¡å¼‚å¸¸');
      }
      
      return health;
    }
  } catch (error) {
    console.error('æ£€æŸ¥é‚®ä»¶æœåŠ¡çŠ¶æ€å¤±è´¥:', error);
  }
};

checkEmailService();
```

### ç¤ºä¾‹2: æµ‹è¯•é‚®ä»¶è¿æ¥

```typescript
// æµ‹è¯•é‚®ä»¶è¿æ¥
const testEmailConnection = async (config: EmailConfig) => {
  try {
    const response = await fetch('/api/v2/mail/test-connection', {
      method: 'POST',
      headers: {
        'Content-Type': 'application/json',
        'Authorization': `Bearer ${token}`,
      },
      body: JSON.stringify(config),
    });

    const data = await response.json();

    if (data.success) {
      console.log('è¿æ¥æµ‹è¯•æˆåŠŸ:', data.data);
      return data.data;
    }
  } catch (error) {
    console.error('è¿æ¥æµ‹è¯•å¤±è´¥:', error);
  }
};

// ä½¿ç”¨ç¤ºä¾‹
const emailConfig = {
  imap: {
    host: 'imap.gmail.com',
    port: 993,
    secure: true,
    user: 'admin@0379.email',
    password: 'your-app-specific-password',
  },
  smtp: {
    host: 'smtp.gmail.com',
    port: 587,
    secure: false,
    user: 'admin@0379.email',
    password: 'your-app-specific-password',
  },
};

testEmailConnection(emailConfig);
```

### ç¤ºä¾‹3: æŸ¥çœ‹é‚®ä»¶å‘é€æ—¥å¿—

```typescript
// æŸ¥çœ‹é‚®ä»¶å‘é€æ—¥å¿—
const getEmailLogs = async (params: LogParams) => {
  try {
    const queryParams = new URLSearchParams({
      startDate: params.startDate || '',
      endDate: params.endDate || '',
      status: params.status || '',
      limit: params.limit?.toString() || '100',
    });

    const response = await fetch(`/api/v2/mail/logs?${queryParams}`);
    const data = await response.json();

    if (data.success) {
      console.log('é‚®ä»¶æ—¥å¿—:', data.data);
      return data.data;
    }
  } catch (error) {
    console.error('è·å–é‚®ä»¶æ—¥å¿—å¤±è´¥:', error);
  }
};

// ä½¿ç”¨ç¤ºä¾‹ - æŸ¥çœ‹æœ€è¿‘å¤±è´¥çš„é‚®ä»¶
const emailLogs = await getEmailLogs({
  status: 'failed',
  limit: 50,
});

console.log('é‚®ä»¶æ—¥å¿—:', emailLogs);
```

---

## æœ€ä½³å®è·µ

### 1. åˆç†ä½¿ç”¨é‚®ä»¶æ ‡ç­¾

**å»ºè®®**:
- ä½¿ç”¨æœ‰æ„ä¹‰çš„æ ‡ç­¾åç§°
- é¿å…åˆ›å»ºè¿‡å¤šæ ‡ç­¾
- å®šæœŸæ¸…ç†ä¸å¸¸ç”¨çš„æ ‡ç­¾
- ä½¿ç”¨é¢œè‰²åŒºåˆ†ä¸åŒç±»å‹çš„æ ‡ç­¾

**ç¤ºä¾‹**:
```typescript
const recommendedLabels = [
  'é‡è¦',
  'å¾…å¤„ç†',
  'å·¥ä½œ',
  'ä¸ªäºº',
  'é¡¹ç›®',
  'ç³»ç»Ÿé€šçŸ¥',
];
```

### 2. å®šæœŸæ¸…ç†é‚®ä»¶

**å»ºè®®**:
- å®šæœŸåˆ é™¤ä¸éœ€è¦çš„é‚®ä»¶
- å½’æ¡£é‡è¦çš„é‚®ä»¶
- æ¸…ç©ºåƒåœ¾ç®±
- æ¸…ç†å·²å‘é€é‚®ä»¶

**ç¤ºä¾‹**:
```typescript
// å½’æ¡£30å¤©å‰çš„é‚®ä»¶
const archiveOldEmails = async () => {
  const thirtyDaysAgo = new Date();
  thirtyDaysAgo.setDate(thirtyDaysAgo.getDate() - 30);

  const oldEmails = await searchEmails({
    query: '',
    dateTo: thirtyDaysAgo.toISOString(),
  });

  await markBatchEmails(
    oldEmails.emails.map(e => e.id),
    { archived: true }
  );
};

archiveOldEmails();
```

### 3. ä½¿ç”¨AIåŠŸèƒ½æé«˜æ•ˆç‡

**å»ºè®®**:
- ä½¿ç”¨AIè‡ªåŠ¨å›å¤å¤„ç†å¸¸è§é—®é¢˜
- ä½¿ç”¨AIæ™ºèƒ½åˆ†ç±»è‡ªåŠ¨æ•´ç†é‚®ä»¶
- ä½¿ç”¨AIæ‘˜è¦å¿«é€Ÿäº†è§£é‚®ä»¶å†…å®¹
- å®šæœŸè®­ç»ƒAIæ¨¡å‹æé«˜å‡†ç¡®æ€§

### 4. æ³¨æ„é‚®ä»¶å®‰å…¨

**å»ºè®®**:
- ä¸è¦åœ¨é‚®ä»¶ä¸­å‘é€æ•æ„Ÿä¿¡æ¯
- ä½¿ç”¨åŠ å¯†åŠŸèƒ½å‘é€é‡è¦é‚®ä»¶
- å®šæœŸæ›´æ¢é‚®ä»¶å¯†ç 
- å¯ç”¨ä¸¤æ­¥éªŒè¯
- æ³¨æ„é˜²èŒƒé’“é±¼é‚®ä»¶

### 5. åˆç†è®¾ç½®é‚®ä»¶è¿‡æ»¤è§„åˆ™

**å»ºè®®**:
- è®¾ç½®è‡ªåŠ¨åˆ†ç±»è§„åˆ™
- è®¾ç½®åƒåœ¾é‚®ä»¶è¿‡æ»¤
- è®¾ç½®è‡ªåŠ¨å›å¤è§„åˆ™
- è®¾ç½®é‚®ä»¶è½¬å‘è§„åˆ™

**ç¤ºä¾‹**:
```typescript
const filterRules = [
  {
    name: 'è‡ªåŠ¨åˆ†ç±»å·¥ä½œé‚®ä»¶',
    condition: {
      from: ['@company.com'],
    },
    action: {
      label: 'å·¥ä½œ',
      folder: 'work',
    },
  },
  {
    name: 'è‡ªåŠ¨æ ‡è®°é‡è¦é‚®ä»¶',
    condition: {
      subject: ['ç´§æ€¥', 'é‡è¦', 'Urgent'],
    },
    action: {
      label: 'é‡è¦',
      starred: true,
    },
  },
];
```

---

## å¸¸è§é—®é¢˜

### Q1: å¦‚ä½•é…ç½®å¤šä¸ªé‚®ä»¶è´¦æˆ·ï¼Ÿ

**A**: åœ¨é‚®ä»¶è®¾ç½®ä¸­æ·»åŠ å¤šä¸ªé‚®ä»¶è´¦æˆ·ï¼Œç³»ç»Ÿä¼šè‡ªåŠ¨ç®¡ç†å¤šä¸ªè´¦æˆ·çš„é‚®ä»¶ã€‚

### Q2: å¦‚ä½•è®¾ç½®é‚®ä»¶è‡ªåŠ¨è½¬å‘ï¼Ÿ

**A**: åœ¨é‚®ä»¶è®¾ç½®ä¸­é…ç½®è‡ªåŠ¨è½¬å‘è§„åˆ™ï¼ŒæŒ‡å®šè½¬å‘ç›®æ ‡åœ°å€å’Œæ¡ä»¶ã€‚

### Q3: å¦‚ä½•æ¢å¤å·²åˆ é™¤çš„é‚®ä»¶ï¼Ÿ

**A**: å·²åˆ é™¤çš„é‚®ä»¶ä¼šä¿ç•™åœ¨åƒåœ¾ç®±ä¸­30å¤©ï¼Œå¯ä»¥åœ¨åƒåœ¾ç®±ä¸­æ‰¾åˆ°å¹¶æ¢å¤ã€‚

### Q4: å¦‚ä½•è®¾ç½®é‚®ä»¶ç­¾åï¼Ÿ

**A**: åœ¨é‚®ä»¶è®¾ç½®ä¸­é…ç½®é‚®ä»¶ç­¾åï¼Œå¯ä»¥åœ¨å‘é€é‚®ä»¶æ—¶è‡ªåŠ¨æ·»åŠ ã€‚

### Q5: å¦‚ä½•ä½¿ç”¨AIåŠŸèƒ½ï¼Ÿ

**A**: åœ¨é‚®ä»¶è¯¦æƒ…é¡µé¢ç‚¹å‡»"AIå›å¤"ã€"AIåˆ†ç±»"ã€"AIæ‘˜è¦"ç­‰æŒ‰é’®å³å¯ä½¿ç”¨AIåŠŸèƒ½ã€‚

---

**æ–‡æ¡£ç‰ˆæœ¬**: 1.0.0  
**æœ€åæ›´æ–°**: 2026-01-25  
**ç»´æŠ¤å›¢é˜Ÿ**: YYCÂ³ Team

---

<div align="center">

> ã€Œ***YanYuCloudCube***ã€
> ã€Œ***<admin@0379.email>***ã€
> ã€Œ***Words Initiate Quadrants, Language Serves as Core for the Future***ã€
> ã€Œ***All things converge in the cloud pivot; Deep stacks ignite a new era of intelligence***ã€

</div>
